<!DOCTYPE html>
<html>
<head>
	<title>Chess openings</title>
	<link rel="stylesheet" type="text/css" href="/css/chess_style.css">
	<script type="text/javascript" src="/js/vendor/signals.min.js"></script>
	<script type="text/javascript" src="/js/vendor/chess.js"></script>
	<script type="text/javascript" src="/js/vendor/easeljs-0.5.0.min.js"></script>
	<script type="text/javascript" src="/js/vendor/d3.v2.min.js"></script>
	<script type="text/javascript" src="/js/ChessOpenings.js"></script>
	<script type="text/javascript" src="/js/PGNSplitter.js"></script>
	<script type="text/javascript" src="/js/GameMetaData.js"></script>
	<script type="text/javascript" src="/js/ChessPlayback.js"></script>

	<script type="text/javascript" src="/generated_data/d3_openings_tree.live.json"></script> <!--//var openings_tree = -->

	<script type="text/javascript">

	function go(){
		var vis = d3.select("#d3_viz").append("svg:svg")
			.attr("width", 1000)
			.attr("height", 1000)
			.append("svg:g");

		var tree = d3.layout.tree()
			.size([1000,1000]);

		var link = d3.svg.line()
			.x(function(d) { return d.x; })
		    .y(function(d) { return d.y; })
		    .interpolate("basis");


		var link = d3.svg.diagonal()
				.projection( function(d){ return [d.x, d.y]; } );

		var nodes = tree.nodes(openings_tree);
		console.log(nodes); 
		var link = vis.selectAll("pathlink")
			.data(tree.links(nodes))
			.enter().append("svg:path")
			.attr("class", "link")
			.attr("d", link);

		var node = vis.selectAll("g.node")
			.data(nodes)
			.enter().append("svg:g")
			.attr("transform", function(d) { return "translate(" + d.y + "," + d.x + ")"; });

		//node.append("svg:circle")
		//	.attr("r", 4.5);


	}


	</script>
	<style type="text/css">
		.label{
			border-bottom: solid;
			border-width: 1px;
			border-color: #fff;
			position: absolute;
			color: #fff;
		}

		.link {
			fill: none;
			stroke: #000;
			stroke-width: 1px;
		}


	</style>
</head>
<body onLoad="go()">
<h1>Chess openings</h1>
<div class="description">
<p><b>Chess openings</b> </p>
<div class="description">a tree diagram showing the ~2500 recognised openings and how they're related</div>
</div>
<div id="options"></div>
<div id="extra">
</div>
<div class="visualisation" id="d3_viz">
</div>


</body>
</html>